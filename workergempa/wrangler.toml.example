name = "gempa-monitor"
main = "src/index.js"
compatibility_date = "2024-01-01"

# D1 Database binding
[[d1_databases]]
binding = "DB"                                  # Sesuaikan dengan env.DB di kode
database_name = "gempa-db"
database_id = "f6098dd8-abcde-1234-8753-abcdehfskde"  # Ganti jika database berbeda

# Cron Triggers - jalankan setiap ~3.3 menit (200 detik)
# Note: Cloudflare Workers Cron minimum adalah 1 menit, jadi kita set ke 3 menit
# atau gunakan multiple cron dengan interval berbeda
[triggers]
crons = ["*/3 * * * *"]  # Setiap 3 menit

# Environment variables (untuk development)
# Untuk production, gunakan: wrangler secret put <NAME> untuk secrets
# atau set via Cloudflare Dashboard untuk vars
[vars]
SEND_TO_SLACK = "true"
SEND_TO_TELEGRAM = "true"
# Kode wilayah adm4 untuk prakiraan cuaca (comma-separated)
# Contoh wilayah: Umbulharjo (Kota Yogyakarta), Piyungan & Banguntapan & Bantul (Kab. Bantul)
# Lihat KODE_WILAYAH_YOGYAKARTA.md untuk daftar lengkap dan sesuaikan
CUACA_WILAYAH = "34.71.08.1001,34.02.10.2001,34.02.15.2004,34.02.01.2001"

# Secrets (harus di-set via: wrangler secret put <NAME>)
# SLACK_WEBHOOK = "https://hooks.slack.com/services/..."
# TELEGRAM_BOT_TOKEN = "your_bot_token"
# TELEGRAM_CHAT_ID = "your_chat_id"
